<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Constructor!</title>
    <link rel="stylesheet" href="./css/grapes.min.css" />
    <script src="./grapes.min.js"></script>
    <link rel="stylesheet" href="./css/code_editor.css" />
    <link rel="stylesheet" href="./css/templates.css" />

    <script src="./js/code_editor.js"></script>
    <script src="./js/fire_export.js"></script>

    <script src="https://www.gstatic.com/firebasejs/5.8.4/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/5.8.4/firebase-firestore.js"></script>

    <style>
      body,
      html {
        height: 100%;
        margin: 0;
      }
    </style>
  </head>

  <body>
    <div id="gjs" style="height:0px; overflow:hidden;">
      <header> </header>
      <body>
        <div class="container"> </div>
      </body>
    </div>

    <script type="text/javascript">
      var editor = grapesjs.init({
        showOffsets: 1,
        noticeOnUnload: 0,
        container: '#gjs',
        height: '100%',
        fromElement: true,
        storageManager: { autoload: 0 },
        showDevices: false,
        storageManager: { type: 'firestore' },
        plugins: ['grapesjs-firestore'],
        pluginsOpts: {
          'grapesjs-firestore': {
            docId: 'gjs',
            apiKey: 'AIzaSyAsx0BigxXLRmLzYTuVmdF5eh2NFon2hC0',
            authDomain: 'cursomm-a0549.firebaseapp.com',
            projectId: 'cursomm-a0549'
          }
        },
        styleManager: {
          sectors: [
            {
              name: 'General',
              open: false,
              buildProps: ['float', 'display', 'position', 'top', 'right', 'left', 'bottom']
            },
            {
              name: 'Tamaño',
              open: false,
              buildProps: ['width', 'height', 'max-width', 'min-height', 'margin', 'padding']
            },
            {
              name: 'Fuente',
              open: false,
              buildProps: ['font-family', 'font-size', 'font-weight', 'letter-spacing', 'color', 'line-height', 'text-shadow']
            },
            {
              name: 'Decoraciones',
              open: false,
              buildProps: ['border-radius-c', 'background-color', 'border-radius', 'border', 'box-shadow', 'background']
            }
          ]
        },
        canvas: {
          styles: ['https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css'],
          scripts: [
            'https://code.jquery.com/jquery-3.3.1.slim.min.js',
            'https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js',
            'https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js'
          ]
        }
      });
      editor.BlockManager.add('testBlock', {
        label: 'Block',
        attributes: { class: 'gjs-fonts gjs-f-b1' },
        category: 'Básicos',
        content: `<div class="row"> <div class="col-md-12"> <p style="padding-top:50px; padding-bottom:50px; text-align:center"> Doble clic para editar <p/> </div> </div>`
      });
    </script>
  </body>
</html>
